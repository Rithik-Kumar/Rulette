<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Rulette : Lightweight business rule system implemented in Java">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Rulette</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/kislayverma/Rulette">View on GitHub</a>

          <h1 id="project_title">Rulette</h1>
          <h2 id="project_tagline">Lightweight business rule system implemented in Java</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/kislayverma/Rulette/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/kislayverma/Rulette/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="rulette" class="anchor" href="#rulette" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rulette</h1>

<p><a href="http://kislayverma.github.io/Rulette/1.x/rulette-core">javadoc rulette-core 1.x</a>
<a href="http://kislayverma.github.io/Rulette/1.x/rulette-rest">javadoc rulette-rest 1.x</a></p>

<p>Rulette is a lightweight, domain-agnostic rule modelling, storage, and evaluation engine.</p>

<ol>
<li>JARGON : Rulette is a mapping of elements of a multi-dimensional input space to elements of a well-defined output space.</li>
<li>JARGON : Each dimension of the input space is called a rule-input. An input can be of type 'value' (discrete valued variable) or a range (intervals).</li>
<li>JARGON : The output of rule engine is an identifier which has meaning in the business domain.</li>
<li>An example of rule : If X= 2 AND Y = 3, THEN Z =42 (X and Y are rule-inputs of type value).</li>
<li>An example of rule : If X= 2 AND 20120101 &lt; Y &lt; 20131231, THEN Z =42 (Y is a rule-inputs of type range).</li>
<li>Rules are modelled as rows of a database table which has one column per rule-input</li>
<li>Values of all columns are AND-ed together for evaluating the rule.</li>
<li>A null value of any rule-input means that rule-input has no part to play in the evaluation of that rule. e.g. in the rule : IF X = 2 and Y = null, Z = 42, the output will be 42 for all values of Y so long as X is 2.</li>
<li>Rule inputs can be of type number(float), date, or strings.</li>
<li>Input have a priority order. This is the order in which they are evaluated to arrive at the
output. Defining priorities is much like defining database indexes - different choices can 
cause widely divergent performance. Worse-depending on your domain, incorrect priorities may 
even lead to incorrect results.</li>
<li>The table which holds the rules must have two columns : 'rule_id' (unique id for the rule, preferable an auto-incrementing primary key) and 'rule_output_id' (unique identifier for the output).</li>
<li>To do rule evaluation, the system takes the combination of the different rule inputs given 
to it, and returns the best fitting rule (if any). 'Best fit' means:
a. Value inputs - An exact value match is better than an 'any' match. e.g. if there are two 
   rules, one with value of input X as 1 and the other as any, then on passing X = 1, the 
   former rule will be returned. On passing X = 2, the latter will be returned (as the 
   former obviously doesn't match).
b. Range inputs : A tighter range is a better fit than a wider range. e.g. if there are two 
   rules, one with value of input X as Jan 1 2013 to Dec31, 2013 and the other as Feb 1 2013 
   to March 1 2013, then on passing X = Feb 15, 2013, the latter will be returned.</li>
<li>Conflicting rules are those that will, if present in the system, cause ambiguity at the time 
 of rule evaluation. The addRule APIs do not allow addition of conflicting rules.</li>
</ol>

<p>The following APIs are exposed for interacting with the rule system:</p>

<pre><code>List&lt;Rule&gt; getAllRules()
Rule getRule(Integer rule_id)
Rule getRule(Map&lt;String, String&gt;)
Rule addRule(Rule)
Rule addRule(Map&lt;String, String&gt;)
Rule deleteRule(Rule)
Rule deleteRule(Integer rule_id)
List&lt;Rule&gt; getConflictingRules(Rule)
Rule getNextApplicableRule(Map&lt;String, String&gt;)
</code></pre>

<hr>

<h1>
<a id="pre-requisites" class="anchor" href="#pre-requisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Pre-requisites</h1>

<ol>
<li>Java 1.7</li>
</ol>

<h2>
<a id="-2-mysql-5x" class="anchor" href="#-2-mysql-5x" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a> 2. MySQL 5.x</h2>

<h1>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup</h1>

<ol>
<li>Execute the setup.sql script on your MySQL server. This creates a database called rule_system
and creates the necessary table in it.</li>
<li>Create a table containing your rules as defined in #8 above (if you don't have it already).</li>
<li>Map this table in the rule_system.rule_system table as shown in the sample-setup.sql script.</li>
<li>For each rule input, add a row to the rule_system.rule_input table with the input's type 
(Value/Range) and priority order.</li>
<li>
<p>Put the jar in your class path.</p>

<h2>
<a id="thats--it-rulette-is-all-set-up-and-ready-to-use" class="anchor" href="#thats--it-rulette-is-all-set-up-and-ready-to-use" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>That's  it! Rulette is all set up and ready to use.</h2>

<h1>
<a id="sample-usage" class="anchor" href="#sample-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sample usage</h1>
</li>
</ol>

<pre><code> RuleSystem rs = new RuleSystem(&lt;rule system name&gt;[, &lt;validator&gt;]);
 Rule r = rs.getRule(&lt;ruleid&gt;);
</code></pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Rulette maintained by <a href="https://github.com/kislayverma">kislayverma</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
